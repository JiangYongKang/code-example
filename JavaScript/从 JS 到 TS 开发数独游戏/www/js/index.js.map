{"version":3,"sources":["webpack:///webpack/bootstrap b37cb643a708b254e086","webpack:///./js/core/toolkit.js","webpack:///./js/index.js","webpack:///./js/ui/grid.js","webpack:///./js/core/sudoku.js","webpack:///./js/core/generator.js","webpack:///./js/ui/popupnumbers.js"],"names":["matrixToolkit","makeRow","v","array","Array","fill","makeMatrix","from","length","shuffle","endIndex","i","k","Math","floor","random","checkFillable","matrix","n","rowIndex","colIndex","row","column","map","boxToolkit","convertToBoxIndex","boxIndex","box","getBoxCells","cellIndex","convertFromBoxIndex","startRowIndex","startColIndex","result","push","module","exports","Grid","require","PopupNumbers","grid","$","build","layout","popupNumbers","bindPopup","Toolkit","Sudoku","container","_$container","sudoku","make","puzzleMatrix","rowGroupClasses","colGroupClasses","$cells","rowValues","cellValue","addClass","text","$divArray","$spanArray","append","width","height","css","on","$cell","e","target","popup","Generator","generator","generate","solutionMatrix","level","cell","internalGenerate","console","warn","orders","fillNumber","fillRow","$panel","_$panel","hide","removeClass","_$targetCell","$span","traget","hasClass","position","left","top","show"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b37cb643a708b254e086","// 矩阵和数组相关工具\n\nconst matrixToolkit = {\n    makeRow(v = 0) {\n        const array = new Array(9);\n        array.fill(v);\n        return array;\n    },\n\n    makeMatrix(v = 0) {\n        return Array.from({ length: 9 }, () => this.makeRow(v));\n    },\n\n    // 对传入的数组进行随机排序，然后把这个数组返回出来\n    shuffle(array) {\n        const endIndex = array.length - 2;\n        for (let i = 0; i < endIndex; i++) {\n            const k = i + Math.floor(Math.random() * (array.length - i));\n            [array[i], array[k]] = [array[k], array[i]];\n        }\n        return array;\n    },\n\n    // 检查指定位置是否可以填写数字\n    checkFillable(matrix, n, rowIndex, colIndex) {\n        const row = matrix[rowIndex];\n        const column = this.makeRow().map((v, i) => matrix[i][colIndex]);\n        const { boxIndex } = boxToolkit.convertToBoxIndex(rowIndex, colIndex);\n        const box = boxToolkit.getBoxCells(matrix, boxIndex);\n        for (let i = 0; i < 9; i++) {\n            if (row[i] === n || column[i] === n || box[i] === n) {\n                return false;\n            }\n        }\n        return true;\n    }\n};\n\n// 宫坐标系工具\nconst boxToolkit = {\n    convertToBoxIndex (rowIndex, colIndex) {\n        return {\n            boxIndex: Math.floor(rowIndex / 3) * 3 + Math.floor(colIndex / 3),\n            cellIndex: rowIndex % 3 * 3 + colIndex % 3\n        };\n    },\n\n    convertFromBoxIndex (boxIndex, cellIndex) {\n        return {\n            rowIndex: Math.floor(boxIndex / 3) * 3 + Math.floor(cellIndex / 3),\n            colIndex: boxIndex % 3 * 3 + cellIndex % 3\n        };\n    },\n\n    getBoxCells (matrix, boxIndex) {\n        const startRowIndex = Math.floor(boxIndex / 3) * 3;\n        const startColIndex = boxIndex % 3 * 3;\n        const result = [];\n        for (let cellIndex = 0; cellIndex < 9; cellIndex++) {\n            const rowIndex = startRowIndex + Math.floor(cellIndex / 3);\n            const colIndex = startColIndex + cellIndex % 3;\n            result.push(matrix[rowIndex][colIndex]);\n        }\n        return result;\n    }\n};\n\n\n// 工具集\nmodule.exports = class Toolkit {\n\n    // 矩阵和数组相关工具\n    static get matrix() {\n        return matrixToolkit;\n    }\n\n    // 宫坐标系相关工具\n    static get box() {\n        return boxToolkit;\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./js/core/toolkit.js","const Grid = require(\"./ui/grid\");\nconst PopupNumbers = require(\"./ui/popupnumbers\");\n\nconst grid = new Grid($(\"#container\"));\ngrid.build();\ngrid.layout();\n\nconst popupNumbers = new PopupNumbers($(\"#popupNumbers\"));\ngrid.bindPopup(popupNumbers);\n\n\n\n// WEBPACK FOOTER //\n// ./js/index.js","// 生成九宫格\nconst Toolkit = require(\"../core/toolkit\");\nconst Sudoku = require('../core/sudoku');\n\nclass Grid {\n    constructor(container) {\n        this._$container = container;\n    }\n\n    build() {\n        const sudoku = new Sudoku();\n        sudoku.make();\n        const matrix = sudoku.puzzleMatrix;\n\n        const rowGroupClasses = [\"row_g_top\", \"row_g_middle\", \"row_g_bottom\"];\n        const colGroupClasses = [\"col_g_top\", \"col_g_center\", \"col_g_right\"];\n\n        const $cells = matrix.map(rowValues => rowValues\n            .map((cellValue, colIndex) => {\n                return $(\"<span>\")\n                .addClass(colGroupClasses[colIndex % 3])\n                .addClass(cellValue ? \"fixed\" : \"empty\")\n                .text(cellValue);\n        }));\n\n        const $divArray = $cells.map(($spanArray, rowIndex) => {\n            return $(\"<div>\")\n                .addClass(\"row\")\n                .addClass(rowGroupClasses[rowIndex % 3])\n                .append($spanArray);\n        });\n\n        this._$container.append($divArray);\n    }\n\n    layout() {\n        const width = $(\"span:first\", this._$container).width();\n        $(\"span\", this._$container)\n            .height(width)\n            .css({\n                \"line-height\": `${width}px`,\n                \"font-size\": width < 32 ? `${width / 2} px` : \"\"\n            });\n    }\n\n    bindPopup(popupNumbers) {\n        this._$container.on(\"click\", \"span\", e => {\n            const $cell = $(e.target);\n            popupNumbers.popup($cell);\n        });\n    }\n}\n\nmodule.exports = Grid;\n\n\n\n// WEBPACK FOOTER //\n// ./js/ui/grid.js","// 生成数独游戏\n\n// 1. 生成完整的解决方案：Generator\n// 2. 随机去除部分数据：按比例\n\nconst Generator = require(\"./generator\");\n\nmodule.exports = class Sudoku {\n    constructor() {\n        const generator = new Generator();\n        generator.generate();\n        this.solutionMatrix = generator.matrix;\n    }\n\n    make(level = 5) {\n        this.puzzleMatrix = this.solutionMatrix.map(row => {\n            return row.map(cell => Math.random() * 9 < level ? 0 : cell);\n        });\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./js/core/sudoku.js","// 生成数独解决方案\nconst Toolkit = require(\"./toolkit\");\n\nmodule.exports = class Generator {\n\n    generate () {\n        while (!this.internalGenerate()) {\n            console.warn(\"try again ...\");\n        }\n    }\n\n    internalGenerate () {\n        this.matrix = Toolkit.matrix.makeMatrix();\n        this.orders = Toolkit.matrix.makeMatrix()\n            .map(row => row.map((v, i) => i))\n            .map(row => Toolkit.matrix.shuffle(row));\n\n        for (let n = 1; n <= 9; n++) {\n            if (!this.fillNumber(n)) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    fillNumber(n) {\n        return this.fillRow(n, 0);\n    }\n\n    fillRow(n, rowIndex) {\n        if (rowIndex > 8) {\n            return true;\n        }\n\n        const row = this.matrix[rowIndex];\n        const orders = this.orders[rowIndex];\n        for (let i = 0; i < 9; i++) {\n            const colIndex = orders[i];\n\n            // 如果这个单元格有值，那么就跳过\n            if (row[colIndex]) {\n                continue;\n            }\n\n            // 检查这个位置是否可以填\n            if (!Toolkit.matrix.checkFillable(this.matrix, n, rowIndex, colIndex)) {\n                continue;\n            }\n\n            row[colIndex] = n;\n\n            // 去下一行填写，如果没填写进去，就继续寻找下一个位置\n            if (!this.fillRow(n, rowIndex + 1)) {\n                row[colIndex] = 0;\n                continue;\n            }\n\n            return true;\n        }\n\n        return false;\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./js/core/generator.js","// 处理弹出的操作面板\n\nmodule.exports = class PopupNumbers {\n\n    constructor($panel) {\n        this._$panel = $panel.hide().removeClass(\"hidden\");\n\n        this._$panel.on(\"click\", \"span\", e => {\n            const $cell = this._$targetCell;\n            const $span = $(e.traget);\n\n            if ($span.hasClass(\"mark1\")) {\n                if ($cell.hasClass(\"mark1\")) {\n                    $cell.removeClass(\"mark1\")\n                } else {\n                    $cell.removeClass(\"mark2\").addClass(\"mark1\");\n                }\n            } else if ($span.hasClass(\"mark2\")) {\n                if ($cell.hasClass(\"mark2\")) {\n                    $cell.removeClass(\"mark2\")\n                } else {\n                    $cell.removeClass(\"mark1\").addClass(\"mark2\");\n                }\n            } else if ($span.hasClass(\"empty\")) {\n                $cell.text(0).addClass(\"empty\");\n            } else {\n            debugger\n                // $cell.removeClass(\"empty\").text($span.text());\n            }\n\n            this.hide();\n        });\n    }\n\n    popup($cell) {\n        this._$targetCell = $cell;\n        const { left, top } = $cell.position();\n        this._$panel.css({\n            left: `${left}px`,\n            top: `${top}px`\n        }).show();\n    }\n\n    hide() {\n        this._$panel.hide();\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./js/ui/popupnumbers.js"],"sourceRoot":""}